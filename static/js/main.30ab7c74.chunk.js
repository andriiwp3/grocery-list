(this["webpackJsonpgrocery-list"]=this["webpackJsonpgrocery-list"]||[]).push([[0],{10:function(t,e,n){t.exports={List:"List_List__2sQBm",title:"List_title__2ugIV",checkbox:"List_checkbox__63od9",sorting:"List_sorting__ZLL0O",productsList:"List_productsList__3CwiY"}},22:function(t,e,n){t.exports={History:"StatusChangeHistory_History__3OoMf"}},27:function(t,e,n){t.exports={Product:"Product_Product__20SFP",title:"Product_title__2WZ1x"}},33:function(t,e,n){},34:function(t,e,n){t.exports={App:"App_App__mF8p7","App-logo":"App_App-logo__3xU-E","App-logo-spin":"App_App-logo-spin__2gvY9","App-header":"App_App-header__vmC-6","App-link":"App_App-link__1sYnK"}},40:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(0),o=n.n(r),c=n(17),i=n.n(c),s=(n(33),n(4)),u=(n(34),n(14)),d=n(11),l=n(2),p="ADD-NEW-PRODUCT",j="DELETE-PRODUCT",b="UPDATE-NEW-PRODUCT",h="CHANGE-PRIORITY",O="CHANGE-STATUS",f="CHANGE-NAME",m="CHANGE-STATUS-SORT-PARAM",y="SORT-BY-PRIORITY",g="SORT-BY-ALPHABET",C={statusSortParam:"all",newProductInfo:{value:"",priority:5,ended:!1},products:[{id:232132,name:"egg",ended:!1,priority:3,statusChangeHistory:[]},{id:23034,name:"apple",ended:!0,priority:5,statusChangeHistory:[]}]},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(l.a)(Object(l.a)({},t),{},{newProductInfo:Object(l.a)(Object(l.a)({},t.newProductInfo),{},{value:e.value})});case p:if(""!==t.newProductInfo.value){var n=Object(l.a)(Object(l.a)({},t),{},{newProductInfo:{value:"",priority:5,ended:!1},products:[].concat(Object(d.a)(t.products),[{id:Date.now(),name:t.newProductInfo.value,ended:t.newProductInfo.ended,priority:t.newProductInfo.priority||5,statusChangeHistory:[]}])});return n}return Object(l.a)({},t);case h:if(""===e.value||"number"===typeof+e.value&&+e.value>0&&+e.value<6){if("new"!==e.id){var a=Object(d.a)(t.products).map((function(t){return t.id===e.id&&(t.priority=e.value),Object(l.a)({},t)}));return Object(l.a)(Object(l.a)({},t),{},{products:a})}return Object(l.a)(Object(l.a)({},t),t.newProductInfo.priority=e.value)}return Object(l.a)({},t);case O:if(void 0!==e.id){var r=Object(d.a)(t.products).map((function(t){if(t.id===e.id){var n=new Date;t.ended=!t.ended,t.statusChangeHistory=[].concat(Object(d.a)(t.statusChangeHistory),[{time:"".concat(n.getHours(),":").concat(n.getMinutes(),":").concat(n.getSeconds()," ").concat(n.getDay(),".").concat(n.getMonth(),".").concat(n.getFullYear()),oldStatus:t.ended?"We have":"Ended",newStatus:t.ended?"Ended":"We have"}])}return Object(l.a)({},t)}));return Object(l.a)(Object(l.a)({},t),{},{products:r})}var o=Object(l.a)({},t.newProductInfo);return o.ended=!o.ended,Object(l.a)(Object(l.a)({},t),{},{newProductInfo:o});case j:var c=Object(d.a)(t.products).filter((function(t){return t.id!==e.id||(t.priority=e.value,!1)}));return Object(l.a)(Object(l.a)({},t),{},{products:c});case f:var i=Object(d.a)(t.products).map((function(t){return t.id===e.id&&(t.name=e.value),Object(l.a)({},t)}));return Object(l.a)(Object(l.a)({},t),{},{products:i});case m:var s=Object(l.a)({},t);return s.statusSortParam=e.sortParam,Object(l.a)({},s);case y:var u=Object(d.a)(t.products).sort((function(t,e){return t.priority-e.priority}));return Object(l.a)(Object(l.a)({},t),{},{products:u});case g:var P=Object(d.a)(t.products).sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}));return Object(l.a)(Object(l.a)({},t),{},{products:P});default:return Object(l.a)({},t)}},_=function(t){return{type:j,id:t}},v=function(t,e){return{type:h,value:t,id:e}},x=function(t){return{type:O,id:t}},S=function(t,e){return{type:f,value:t,id:e}},N=n(13),A=n(9),w=n.n(A),L=n(22),D=n.n(L),E=function(t){return Object(a.jsxs)("div",{className:D.a.History,children:[Object(a.jsx)("span",{className:D.a.time,children:t.time}),"\xa0",Object(a.jsx)("span",{children:t.oldStatus}),"\xa0\u2192\xa0",Object(a.jsx)("span",{children:t.newStatus})]})},I=function(t){return Object(a.jsxs)("div",{className:w.a.ProductCard,children:[Object(a.jsxs)("div",{className:w.a.info,children:[Object(a.jsx)("input",{className:w.a.name,type:"text",value:t.name,placeholder:"Type product name",onBlur:function(e){""===e.target.value&&t.onDelete(t.id)},onChange:function(e){return t.onChangeName(e.target.value,t.id)}}),Object(a.jsx)("div",{className:w.a.status,children:t.ended?Object(a.jsx)("span",{className:w.a.ended,children:"Ended"}):Object(a.jsx)("span",{children:"We have"})}),Object(a.jsxs)("div",{className:w.a.priority,children:["Priority:",Object(a.jsx)("input",{type:"text",value:t.priority,onChange:function(e){t.onChangePriority(e.target.value,t.id)},onBlur:function(e){""===e.target.value&&t.onChangePriority(5,t.id)}})]})]}),Object(a.jsxs)("div",{className:w.a.actions,children:[Object(a.jsx)("button",{className:w.a.btn,onClick:function(e){t.onDelete(t.id)},children:"Delete"}),Object(a.jsx)("button",{className:w.a.btn,onClick:function(e){t.onChangeStatus(t.id)},children:"Change status"}),t.single?"":Object(a.jsx)(N.b,{className:w.a.btn,to:"/".concat(t.id),children:"See more"})]}),t.history?Object(a.jsx)("div",{className:w.a.history,children:t.history.map((function(t,e){return Object(a.jsx)(E,{time:t.time,oldStatus:t.oldStatus,newStatus:t.newStatus},e)}))}):""]})},k=n(10),B=n.n(k),H=function(t){return Object(a.jsxs)("div",{className:B.a.List,children:[Object(a.jsx)("h1",{className:B.a.title,children:"Products List"}),Object(a.jsx)("div",{className:B.a.header,children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.onAddProduct()},className:B.a.add,children:[Object(a.jsx)("input",{type:"text",value:t.productsList.newProductInfo.value,placeholder:"Product Name",onChange:t.onChange}),Object(a.jsx)("input",{type:"text",value:t.productsList.newProductInfo.priority,onChange:function(e){t.onChangePriority(e.target.value,"new")},placeholder:"Priority (1 to 5)"}),Object(a.jsxs)("div",{className:B.a.checkbox,children:[Object(a.jsx)("span",{children:"Ended?"}),Object(a.jsx)("input",{type:"checkbox",value:"off",onChange:function(){t.onChangeStatus()}})]}),Object(a.jsx)("button",{type:"submit",children:"Add product"})]})}),Object(a.jsxs)("div",{className:B.a.sorting,children:[Object(a.jsxs)("div",{className:B.a.status,children:[Object(a.jsx)("button",{onClick:function(){t.onChangeStatusSortParam("all")},children:"All"}),Object(a.jsx)("button",{onClick:function(){t.onChangeStatusSortParam(!1)},children:"We have"}),Object(a.jsx)("button",{onClick:function(){t.onChangeStatusSortParam(!0)},children:"Ended"})]}),Object(a.jsxs)("div",{className:B.a.otherParams,children:[Object(a.jsx)("button",{onClick:t.onSortByPriority,children:"By Priority"}),Object(a.jsx)("button",{onClick:t.onSortByAlphabet,children:"By Alphabet"})]})]}),Object(a.jsx)("ul",{className:B.a.productsList,children:t.productsList.products.map((function(e,n){return"all"===t.productsList.statusSortParam||e.ended===t.productsList.statusSortParam?Object(a.jsx)(I,{single:!1,index:n,id:e.id,name:e.name,ended:e.ended,priority:e.priority,onDelete:t.onDelete,onChangePriority:t.onChangePriority,onChangeStatus:t.onChangeStatus,onChangeName:t.onChangeName},n):null}))})]})},T=Object(u.b)((function(t){return{productsList:t.productsList}}),(function(t){return{onAddProduct:function(e,n,a){t({type:p})},onDelete:function(e){t(_(e))},onChange:function(e){var n;t((n=e.target.value,{type:b,value:n}))},onChangePriority:function(e,n){t(v(e,n))},onChangeStatus:function(e){t(x(e))},onChangeName:function(e,n){t(S(e,n))},onChangeStatusSortParam:function(e){t({type:m,sortParam:e})},onSortByPriority:function(){t({type:y})},onSortByAlphabet:function(){t({type:g})}}}))(H),R=n(27),Y=n.n(R),M=function(t){return t.product[0]?Object(a.jsx)("div",{className:Y.a.Product,children:Object(a.jsx)(I,{single:!0,id:t.product[0].id,name:t.product[0].name,ended:t.product[0].ended,priority:t.product[0].priority,history:t.product[0].statusChangeHistory,onDelete:t.onDelete,onChangePriority:t.onChangePriority,onChangeStatus:t.onChangeStatus,onChangeName:t.onChangeName})}):Object(a.jsx)(s.a,{to:"/"})},U=Object(u.b)((function(t){return{product:t.productsList.products.filter((function(t){return"/"+t.id==window.location.pathname}))}}),(function(t){return{onDelete:function(e){t(_(e))},onChangePriority:function(e,n){t(v(e,n))},onChangeStatus:function(e){t(x(e))},onChangeName:function(e,n){t(S(e,n))}}}))(M);var W=function(){return Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{exact:!0,path:"/",children:Object(a.jsx)(T,{})}),Object(a.jsx)(s.b,{path:"/:id",children:Object(a.jsx)(U,{})})]})},G=n(16),V=Object(G.b)({productsList:P}),F=Object(G.c)(V);i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(N.a,{children:Object(a.jsx)(u.a,{store:F,children:Object(a.jsx)(W,{})})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={ProductCard:"ProductCard_ProductCard__2_XXB",info:"ProductCard_info__2kfl1",name:"ProductCard_name__181Q3",status:"ProductCard_status__1B-lE",ended:"ProductCard_ended__3oefk",priority:"ProductCard_priority__rV-w_",actions:"ProductCard_actions__S4cMG",btn:"ProductCard_btn__3IsB0",history:"ProductCard_history__o0VV5"}}},[[40,1,2]]]);
//# sourceMappingURL=main.30ab7c74.chunk.js.map